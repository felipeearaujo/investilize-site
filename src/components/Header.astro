---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
import { Image } from 'astro:assets';
import logo from 'src/assets/logo.png';
---

<header>
    <nav>
        <a href="/"><Image src={logo} alt="Investilize" width="190" /></a>
        
        <div class="internal-links">
            <HeaderLink href="/blog">Blog</HeaderLink>
            
            <div class="dropdown-wrapper">
                <span class="menu-trigger">
                    Ferramentas <span class="arrow">‚ñæ</span>
                </span>
                
                <div class="dropdown-menu">
                    <a href="/ferramentas/comparador-renda-fixa/">‚öñÔ∏è Comparador Renda Fixa</a>
                    <a href="/ferramentas/juros-compostos/">üìà Juros Compostos</a>
                    <a href="/ferramentas/independencia-financeira/">üèñÔ∏è Calculadora FIRE</a>
                    <a href="/ferramentas/investimentos/">üéØ Perfil de Investidor</a>
                    <a href="/ferramentas/conversor-de-moedas/">üí± Conversor de Moedas</a>
                    <a href="/ferramentas/cotacao-acoes/">üìä Cota√ß√µes</a>
                    <a href="/ferramentas/calculadora-reserva-emergencia/">üí∞ Calculadora Reserva de Emerg√™ncia</a>
                    <a href="/ferramentas/calculadora-preco-justo/">ü§ù Calculadora de Pre√ßo Justo</a>
                </div>
            </div>

            <HeaderLink href="/sobre">Sobre</HeaderLink>
        </div>
        
        <div class="social-links">
            </div>
    </nav>
</header>

<style>
    header {
        margin: 0;
        padding: 0 1em;
        background: white;
        box-shadow: 0 2px 8px rgba(var(--black), 5%);
        position: relative;
        z-index: 1000;
    }
    nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .internal-links {
        display: flex;
        align-items: center;
    }

    /* --- ESTILO DOS LINKS (HeaderLink e tags 'a') --- */
    nav a {
        padding: 1em 0.5em;
        color: var(--black);
        border-bottom: 4px solid transparent;
        text-decoration: none;
        display: inline-block;
    }
    
    nav a.active {
        text-decoration: none;
        border-bottom-color: var(--accent);
    }

    /* --- ESTILO DO GATILHO DO MENU (CLONE DO LINK) --- */
    .menu-trigger {
        padding: 1em 0.5em;
        color: var(--black);
        border-bottom: 4px solid transparent;
        
        display: flex;
        align-items: center;
        gap: 4px;
        cursor: pointer;
        font-weight: inherit;
        user-select: none;
    }

    .menu-trigger:hover,
    .dropdown-wrapper:hover .menu-trigger {
        border-bottom-color: var(--accent);
        color: rgb(var(--black)); 
    }

    /* --- DROPDOWN L√ìGICA --- */
    .dropdown-wrapper {
        position: relative;
        display: flex;
        align-items: center;
        height: 100%;
    }

    .dropdown-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        background-color: white;
        min-width: 240px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        border-radius: 8px;
        padding: 8px 0;
        z-index: 1001;
        border: 1px solid #f0f0f0;
    }

    .dropdown-menu a {
        display: block;
        padding: 10px 16px;
        color: #374151;
        border-bottom: none;
        font-size: 0.95rem;
        text-align: left;
    }

    .dropdown-menu a:hover {
        background-color: #f3f4f6;
        color: #7c3aed;
    }

    .dropdown-wrapper:hover .dropdown-menu {
        display: block;
    }

    .social-links { display: flex; }

    @media (max-width: 720px) {
        .social-links { display: none; }
        nav { flex-wrap: wrap; }
        .internal-links { width: 100%; justify-content: center; }
    }
</style>